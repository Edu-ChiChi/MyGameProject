<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학습 전략 게임: 나만의 해답 찾기</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <main class="game-container">
        
        <section id="initial-problem-area" class="screen">
            <h1>나만의 학습 전략 찾기</h1>
            <div class="problem-box">
                <p>"안녕하세요, 저는 상명고등학교 1학년 학생입니다. 곧 기말고사가 다가오는데, 공부할 내용이 너무 많아서 어디서부터 시작해야 할지 모르겠어요. 혼자서 밤새도록 책상에 앉아 있어도 집중이 잘 안 되고, 성적도 오르지 않아서 너무 막막합니다. 그래서 친구들과 함께 스터디를 해보려고 했는데, 무엇을 어떻게 해야 할지 모르겠어요."</p>
                <button id="consult-button" class="action-button primary">고민 상담해주기</button>
            </div>
            <div class="crossword-box">
                <h2>단원 마무리 활동</h2>
                <button id="start-crossword-button-initial" class="action-button secondary">교과서 십자말풀이</button>
            </div>
        </section>

        <section id="expert-selection-area" class="screen" style="display:none;">
            <h2>고민 해결 전략 선택</h2>
            <div class="expert-list">
                <div class="expert" data-strategy="behaviorism">
                    <div class="expert-bubble behaviorism-bubble"></div>
                    <p>행동주의 전문가</p>
                </div>
                <div class="expert" data-strategy="cognitivism">
                    <div class="expert-bubble cognitivism-bubble"></div>
                    <p>인지주의 전문가</p>
                </div>
                <div class="expert" data-strategy="constructivism">
                    <div class="expert-bubble constructivism-bubble"></div>
                    <p>구성주의 전문가</p>
                </div>
            </div>
            <div class="button-group">
                <button id="back-to-problem-button" class="action-button secondary">고민 화면으로 복귀</button>
                <button id="restart-button-selection" class="action-button secondary" style="display:none;">다른 전략 체험하기</button>
            </div>
        </section>

        <section id="mission-area" class="screen" style="display:none;">
            
            <div class="mission-header">
                <h2>실전 미션 수행</h2>
                <button id="abandon-mission-button" class="action-button danger">미션 포기</button>
            </div>
            
            <div id="behaviorism-mission" class="mission-screen" style="display:none;">
                <h3>📚 행동주의: 습관의 저금통</h3>
                <div class="behaviorism-ui">
                    <div class="token-display">
                        <span class="token-label">현재 코인 (토큰)</span>
                        <span id="current-tokens" class="token-value">0</span>
                    </div>
                    <div class="task-area">
                        <h4>오늘의 실천 목표 (코인을 획득하세요!)</h4>
                        <div id="task-card-container" class="card-list">
                            </div>
                    </div>
                    <div class="exchange-area">
                        <button id="open-exchange-button" class="action-button secondary">코인 교환소 (미구현)</button>
                        <button id="simulate-behaviorism-completion" class="action-button primary">미션 시뮬레이션 완료</button>
                    </div>
                </div>
            </div>

            <div id="cognitivism-mission" class="mission-screen" style="display:none;">
                <h3>🧩 인지주의: 개념 연결하기 퍼즐</h3>
                <p>흩어져 있는 개념 조각들을 올바른 학습 이론 범주(행동주의, 인지주의, 구성주의)에 연결하여 기억의 방을 탈출하세요.</p>
                
                <div class="cognitivism-puzzle-area">
                    <div class="drop-zones-container">
                        <div class="drop-zone" data-category="행동주의"><h4>행동주의</h4></div>
                        <div class="drop-zone" data-category="인지주의"><h4>인지주의</h4></div>
                        <div class="drop-zone" data-category="구성주의"><h4>구성주의</h4></div>
                    </div>
                    <h4>개념 조각들</h4>
                    <div id="puzzle-pieces-container" class="puzzle-pieces-container">
                        </div>
                </div>
                <button id="simulate-cognitivism-completion" class="action-button secondary" style="margin-top: 20px;">미션 시뮬레이션 완료</button>
            </div>
            
            <div id="constructivism-mission" class="mission-screen" style="display:none;">
                <h3>🤝 구성주의: 멘토링 비계 제공</h3>
                <p>친구의 학습 고민을 듣고, 어떤 비계(Scaffolding)를 제공해야 친구가 스스로 해답을 찾을 수 있을지 선택해 보세요.</p>

                <div class="mentoring-dialogue">
                    <div class="dialogue mentee-bubble">
                        <p id="mentee-dialogue">안녕! 나는 '학습의 원리와 방법' 단원 공부 중인데, 행동주의랑 인지주의가 너무 헷갈려. 개념은 외웠는데 서로 어떻게 다른 건지 모르겠어. 좀 도와줄 수 있을까?</p>
                    </div>
                    <div id="scaffolding-choices" class="choice-area">
                        </div>
                    
                    <div id="mentor-result-message" class="dialogue mentor-result" style="display:none;">
                        <h4>친구의 반응</h4>
                        <p id="mentee-reaction-text"></p>
                        <p class="reward-info">🎉 뱃지 획득: <strong id="mentor-badge"></strong></p>
                        <button id="complete-mentor-mission" class="action-button primary">결과 확인 및 미션 완료</button>
                    </div>
                </div>
            </div>

        </section>

        <section id="resolution-area" class="screen" style="display:none;">
            <div class="resolution-box">
                <h2>🎉 미션 성공! 전략 결과</h2>
                <div class="resolution-message-box">
                    <p id="resolution-message"></p>
                </div>
                <div class="button-group">
                    <button id="restart-button" class="action-button secondary">다른 전략 체험하기</button>
                </div>
            </div>
        </section>

    </main>

    <div id="crossword-game-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <button id="close-crossword-modal" class="close-button">X</button>
            <h3>교과서 십자말풀이 미션</h3>
            <p id="crossword-message">단원의 핵심 개념 9가지를 모두 채워 넣으세요. (총 9문항)</p>
            <div class="crossword-game-area">
                <div class="crossword-grid-container">
                    <table id="crossword-grid" class="crossword-table"></table>
                </div>
                <div class="crossword-clues-area">
                    <h4>문제 목록</h4>
                    <div id="crossword-question-list" class="clue-list">
                        </div>
                    
                    <div class="clue-detail">
                        <h5 id="current-clue-title">선택된 문항이 없습니다.</h5>
                        <p id="current-clue-text">질문이 여기에 표시됩니다.</p>
                        <div id="input-container" style="display:none;">
                            <input type="text" id="crossword-answer-input" placeholder="정답을 입력하세요">
                            <button id="check-answer-button" class="action-button primary">정답 확인</button>
                        </div>
                        <div id="feedback-hint" class="feedback-hint" style="display:none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/game.js"></script>
    <script src="js/behaviorism.js"></script>
    <script src="js/cognitivism.js"></script>
    <script src="js/constructivism.js"></script>
    <script src="js/crossword.js"></script> 
    
</body>
</html>