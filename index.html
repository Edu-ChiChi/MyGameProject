<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학습 전략 게임: 나만의 해답 찾기</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <main class="game-container">
        
        <section id="initial-problem-area" class="screen">
            <h1>상황에 맞는 학습 전략 적용하기</h1>
            <div class="problem-box">
                <p>"안녕하세요, 저는 상명고등학교 1학년 학생입니다. 곧 기말고사가 다가오는데, 공부할 내용이 너무 많아서 어디서부터 시작해야 할지 모르겠어요. 혼자서 밤새도록 책상에 앉아 있어도 집중이 잘 안 되고, 성적도 오르지 않아서 너무 막막합니다. 그래서 친구들과 함께 스터디를 해보려고 했는데, 무엇을 어떻게 해야 할지 모르겠어요."</p>
                <button id="consult-button" class="action-button primary">고민 상담해주기</button>
            </div>
            <div class="crossword-box">
                <h2>단원 마무리 활동</h2>
                <button id="start-crossword-button-initial" class="action-button secondary">교과서 십자말풀이</button>
            </div>
        </section>

        <section id="expert-selection-area" class="screen" style="display:none;">
            <h2>Step 1: 전문가 선택</h2>
            <p>당신의 고민을 해결해줄 학습 전략 전문가를 선택하세요.</p>
            
            <div class="expert-list">
                <div class="expert behaviorism-expert" data-strategy="behaviorism">
                    <img src="img/expert-behaviorism.png" alt="행동주의 전문가 이미지">
                    <h3>행동주의 전문가</h3>
                    <p class="expert-motto">"학습은 습관이다. 반복과 보상으로 성취하라!"</p>
                    <div class="expert-bubble behaviorism-bubble" style="display: none;">
                        <p>작은 목표를 설정하고, 달성할 때마다 즉각적인 보상으로 습관을 형성하게 도와드릴게요.</p>
                    </div>
                </div>
                
                <div class="expert cognitivism-expert" data-strategy="cognitivism">
                    <img src="img/expert-cognitivism.png" alt="인지주의 전문가 이미지">
                    <h3>인지주의 전문가</h3>
                    <p class="expert-motto">"정보를 조직화하라. 기억의 구조를 이해하라!"</p>
                    <div class="expert-bubble cognitivism-bubble" style="display: none;">
                        <p>정보를 체계적으로 정리하고, 기억하는 방법을 가르쳐 드릴게요. 지식을 머릿속에 구조화하세요.</p>
                    </div>
                </div>
                
                <div class="expert constructivism-expert" data-strategy="constructivism">
                    <img src="img/expert-constructivism.png" alt="구성주의 전문가 이미지">
                    <h3>구성주의 전문가</h3>
                    <p class="expert-motto">"지식은 스스로 만든다. 협력과 비계로 성장하라!"</p>
                    <div class="expert-bubble constructivism-bubble" style="display: none;">
                        <p>친구들과 협력하여 문제를 해결하고, 필요한 도움(비계)을 제공받아 스스로 성장하는 경험을 하도록 안내할게요.</p>
                    </div>
                </div>
            </div>
            
            <button id="back-to-problem-button" class="action-button secondary">이전 화면으로 돌아가기</button>
        </section>

        <section id="mission-area" class="screen" style="display:none;">
            <div class="mission-header">
                <h2 id="mission-title"></h2>
                <button id="abandon-mission-button" class="action-button danger small">다른 전략 체험하기</button>
            </div>
            <div class="mission-content" id="current-mission-content">
                <div id="behaviorism-mission" class="mission-screen" style="display:none;">
                    <div class="info-bar">
                        <p>현재 코인: <span id="current-tokens" class="token-display">0</span></p>
                        <button id="open-exchange-button" class="action-button secondary small">행동주의 교환소</button>
                    </div>
                    <div id="task-card-container" class="task-card-container">
                        </div>
                    <button id="complete-behaviorism-mission" class="action-button primary full-width" style="margin-top: 20px;">시뮬레이션 완료</button>
                </div>

                <div id="cognitivism-mission" class="mission-screen" style="display:none;">
                    <h3>기억의 방 탈출: 개념 조각 맞추기 (Drag & Drop)</h3>
                    <div class="drop-zones-container">
                        <div class="drop-zone" data-category="감각기억">
                            <h4>감각기억</h4>
                        </div>
                        <div class="drop-zone" data-category="단기기억">
                            <h4>단기기억</h4>
                        </div>
                        <div class="drop-zone" data-category="장기기억">
                            <h4>장기기억</h4>
                        </div>
                    </div>
                    <div id="puzzle-pieces-container" class="puzzle-pieces-container">
                        </div>
                    <p class="tip-text">총 12개의 개념 조각을 올바른 기억 저장소에 넣어보세요. 모든 조각을 맞추면 탈출 성공입니다!</p>
                    <button id="simulate-cognitivism-completion" class="action-button secondary full-width" style="margin-top: 20px;">건너뛰기 (디버그)</button>
                </div>

                <div id="constructivism-mission" class="mission-screen" style="display:none;">
                    <div class="dialogue-box">
                        <p class="mentee-line" id="mentee-dialogue">멘티의 고민이 여기에 표시됩니다.</p>
                    </div>
                    
                    <div id="scaffolding-choices" class="scaffolding-choices">
                        </div>

                    <div id="mentor-result-message" class="mentor-result-message" style="display:none;">
                        <p><strong>멘티 반응:</strong> <span id="mentee-reaction-text"></span></p>
                        <p class="reward-line">배지: <span id="mentor-badge"></span>, 포인트: <span id="mentor-points">0</span></p>
                    </div>
                    
                    <button id="complete-mentor-mission" class="action-button primary full-width" style="margin-top: 20px;">멘토링 완료</button>
                </div>
            </div>
        </section>

        <section id="resolution-area" class="screen" style="display:none;">
            <h2>Step 3: 학습 전략 적용 결과</h2>
            <div class="resolution-box">
                <p id="resolution-message">여기에 미션 완료 메시지가 표시됩니다.</p>
                <div class="feedback-detail" id="feedback-detail">
                    </div>
            </div>
            
            <button id="restart-button" class="action-button primary">다른 전략 체험하기</button>
            <button id="restart-button-selection" class="action-button secondary">처음으로 돌아가기</button>
        </section>

    </main>

    <div id="crossword-game-modal" class="modal" style="display:none;">
        <div class="modal-content large">
            <span class="close-button" id="close-crossword-modal">&times;</span>
            <h3>교과서 핵심 개념 십자말풀이</h3>
            <p id="crossword-message">단원의 핵심 개념 9가지를 모두 채워 넣으세요. (총 9문항)</p>
            <div class="crossword-game-area">
                <div class="crossword-grid-container">
                    <table id="crossword-grid" class="crossword-table"></table>
                </div>
                <div class="crossword-clues-area">
                    <h4>문제 목록</h4>
                    <div id="crossword-question-list" class="clue-list">
                    </div>
                    
                    <div class="clue-detail">
                        <h5 id="current-clue-title">선택된 문항이 없습니다.</h5>
                        <p id="current-clue-text">질문이 여기에 표시됩니다.</p>
                        <div id="input-container" style="display:none;">
                            <input type="text" id="crossword-answer-input" placeholder="정답을 입력하세요">
                            <button id="check-answer-button" class="action-button primary">정답 확인</button>
                        </div>
                        <div id="feedback-hint" class="feedback-hint" style="display:none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/game.js"></script>
    <script src="js/behaviorism.js"></script>
    <script src="js/cognitivism.js"></script>
    <script src="js/constructivism.js"></script>
    <script src="js/crossword.js"></script>
</body>
</html>